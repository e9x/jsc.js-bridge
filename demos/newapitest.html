<!doctype html>
<html>
	<head>
		<meta charset='utf-8'>
	</head>
	<body>
		<script src='../dist/jsc.js'></script>
		<script type='module'>
/*
TODO:

- context.on('log')
- Refs as weakmap
*/

await JSC.ready;

var context = new JSC.Context();

context.on('log', (...data) => console.log('Context says:', ...data));

context.bridge.exposed = () => console.log('Exposed function was called');

context.execute(() => {
	console.log('Console.log text', { ok: true });
	exposed();
});

context.destroy();
		</script>
	</body>
</html>